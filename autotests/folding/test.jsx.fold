// JavaScript React

<beginfold id='8'>/** </beginfold id='8'>@author Willy <willy@wmail.com>
  * @url https://reactjs.org/ *<endfold id='8'>*/</endfold id='8'>

import React from 'react';
import <beginfold id='1'>{</beginfold id='1'> PhotoStory, VideoStory <endfold id='1'>}</endfold id='1'> from './stories';

function Story(props) <beginfold id='1'>{</beginfold id='1'>
  const SpecificStory = components[props.storyType];
  return <beginfold id='3'><SpecificStory</beginfold id='3'> story=<beginfold id='4'>{</beginfold id='4'> props.story <endfold id='4'>}</endfold id='4'> attr2="&ref;" attr3="Hello\n" <endfold id='3'>/></endfold id='3'>;
<endfold id='1'>}</endfold id='1'> 

function 
<beginfold id='3'><Tag</beginfold id='3'> attr1=<beginfold id='4'>{</beginfold id='4'> <beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'> function <noTag/> return class var 0x123 <beginfold id='1'>{</beginfold id='1'> <endfold id='1'>}</endfold id='1'> &noRef; hello() React.Component() <endfold id='4'>}</endfold id='4'> attr2="&ref;">
	/* no comment*/ function <beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'> return class var 0x123 &ref; hello() React.Component()
	.<beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'> anyWord <beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'>
	<beginfold id='4'>{</beginfold id='4'> function <tag> return class var 0x123 hello() React.Component() <endfold id='4'>}</endfold id='4'> 
</Tag<endfold id='3'>></endfold id='3'>

<beginfold id='2'><tag1</beginfold id='2'>> </tag1<endfold id='2'>></endfold id='2'>
<beginfold id='2'><tag1</beginfold id='2'>> </Tag$<endfold id='2'>></endfold id='2'>
<beginfold id='3'><Tag$</beginfold id='3'>> </tag<endfold id='3'>></endfold id='3'>

<beginfold id='2'><tag</beginfold id='2'><beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'>attr1<beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'>= <beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'>"value"<beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'>attr2 <beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'>attr3='a' key<beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'>key2 <endfold id='2'>/></endfold id='2'>

// Detect Valid tags

<beginfold id='7'>/*</beginfold id='7'> comment <endfold id='7'>*/</endfold id='7'> <beginfold id='2'><tag</beginfold id='2'>></tag<endfold id='2'>></endfold id='2'>
<beginfold id='1'>{</beginfold id='1'> <beginfold id='7'>/*</beginfold id='7'> comment 
	<endfold id='7'>*/</endfold id='7'> <beginfold id='3'><Tag</beginfold id='3'> <endfold id='3'>/></endfold id='3'> 
	word <noTag/> . <noTag/> <endfold id='1'>}</endfold id='1'> <noTag/>
return <beginfold id='7'>/*</beginfold id='7'> comment
	multiline <endfold id='7'>*/</endfold id='7'> <beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'> <beginfold id='7'>/*</beginfold id='7'> comment <endfold id='7'>*/</endfold id='7'> <beginfold id='3'><Tag</beginfold id='3'><endfold id='3'>/></endfold id='3'>
&& <beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'> <beginfold id='3'><Tag</beginfold id='3'><endfold id='3'>/></endfold id='3'>
& <beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'> <noTag/>

  <beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'>
<beginfold id='1'>{</beginfold id='1'> <beginfold id='2'><hello</beginfold id='2'>>Hello</hello<endfold id='2'>></endfold id='2'> <endfold id='1'>}</endfold id='1'>
?<beginfold id='3'><Tag</beginfold id='3'> <endfold id='3'>/></endfold id='3'>;
[ <beginfold id='2'><tag</beginfold id='2'> <endfold id='2'>/></endfold id='2'>  ( <beginfold id='2'><tag</beginfold id='2'> <endfold id='2'>/></endfold id='2'>
,<beginfold id='3'><Tag</beginfold id='3'><endfold id='3'>/></endfold id='3'>    =<beginfold id='3'><Tag</beginfold id='3'><endfold id='3'>/></endfold id='3'>
&&<beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'>   ||<beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'>
return <beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'> ;
default<beginfold id='2'><tag</beginfold id='2'><endfold id='2'>/></endfold id='2'> ;
<beginfold id='3'><Tag</beginfold id='3'>> <beginfold id='2'><tag</beginfold id='2'>> <beginfold id='3'><tag$</beginfold id='3'><endfold id='3'>/></endfold id='3'> </tag<endfold id='2'>></endfold id='2'> return </Tag<endfold id='3'>></endfold id='3'>

anyWord<noTag>
anyWord<beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'> <noTag/>
.<noTag>
&<notag> | <noTag/>
% <beginfold id='7'>/*</beginfold id='7'> comment<endfold id='7'>*/</endfold id='7'> <noTag/>

<beginfold id='3'><C</beginfold id='3'><number><endfold id='3'>/></endfold id='3'>
<beginfold id='3'><C</beginfold id='3'><number>> </C<endfold id='3'>></endfold id='3'>
<beginfold id='3'><C</beginfold id='3'>
<error <endfold id='3'>/></endfold id='3'>

// Non-ASCII tag name & attribute
<beginfold id='3'><</beginfold id='3'>日本語></日本語<endfold id='3'>></endfold id='3'>;
<beginfold id='3'><Component</beginfold id='3'> 本本:本-本 aa本:本 aa:aa <endfold id='3'>/></endfold id='3'>

<beginfold id='3'><Namespace.DeepNamespace.Component</beginfold id='3'> <endfold id='3'>/></endfold id='3'>;
<beginfold id='3'><Component</beginfold id='3'> <beginfold id='4'>{</beginfold id='4'> ... x <endfold id='4'>}</endfold id='4'> y
=<beginfold id='4'>{</beginfold id='4'>2 <endfold id='4'>}</endfold id='4'> z <endfold id='3'>/></endfold id='3'>;

let k1 = <beginfold id='2'><div</beginfold id='2'>> <beginfold id='2'><h2</beginfold id='2'>> Hello </h2<endfold id='2'>></endfold id='2'> <beginfold id='2'><h1</beginfold id='2'>> world </h1<endfold id='2'>></endfold id='2'></div<endfold id='2'>></endfold id='2'>;
let k2 = <beginfold id='3'><Button</beginfold id='3'>> <beginfold id='2'><h2</beginfold id='2'>> Hello </h2<endfold id='2'>></endfold id='2'> </Button<endfold id='3'>></endfold id='3'>;

// Empty tags
<beginfold id='2'><></beginfold id='2'><endfold id='2'></></endfold id='2'>; // no whitespace
<beginfold id='2'><    ></beginfold id='2'><endfold id='2'></   ></endfold id='2'>; // lots of whitespace
< <beginfold id='7'>/*</beginfold id='7'>starting wrap<endfold id='7'>*/</endfold id='7'> ></ <beginfold id='7'>/*</beginfold id='7'>ending wrap<endfold id='7'>*/</endfold id='7'>>; // comments in the tags
<beginfold id='2'><></beginfold id='2'>hi<endfold id='2'></></endfold id='2'>; // text inside
<beginfold id='2'><></beginfold id='2'><beginfold id='2'><span</beginfold id='2'>>hi</span<endfold id='2'>></endfold id='2'><beginfold id='2'><div</beginfold id='2'>>bye</div<endfold id='2'>></endfold id='2'><endfold id='2'></></endfold id='2'>; // children
<beginfold id='2'><></beginfold id='2'><beginfold id='2'><span</beginfold id='2'>>1</span<endfold id='2'>></endfold id='2'><beginfold id='2'><></beginfold id='2'><beginfold id='2'><span</beginfold id='2'>>2.1</span<endfold id='2'>></endfold id='2'><beginfold id='2'><span</beginfold id='2'>>2.2</span<endfold id='2'>></endfold id='2'><endfold id='2'></></endfold id='2'><beginfold id='2'><span</beginfold id='2'>>3</span<endfold id='2'>></endfold id='2'><endfold id='2'></></endfold id='2'>; // nested fragments
<beginfold id='2'><></beginfold id='2'>#<endfold id='2'></></endfold id='2'>; // # would cause scanning error if not in jsxtext

// Tags after substitutions in templates
`aaa${<beginfold id='2'><tag</beginfold id='2'>></tag<endfold id='2'>></endfold id='2'>//comment
    <beginfold id='7'>/*</beginfold id='7'>comment<endfold id='7'>*/</endfold id='7'><beginfold id='3'><A</beginfold id='3'><endfold id='3'>/></endfold id='3'>}`

// Don't highlight tags within variable declaration
let myIdentity: <T>(arg: T) => T = identity;
var myIdentity: <U>(arg: U) => U = identity;
const myIdentity: <beginfold id='1'>{<</beginfold id='1'>T>(arg: T): T<endfold id='1'>}</endfold id='1'> = identity;

// Don't highlight tags within interfaces and classes
interface GenericIdentityFn <beginfold id='1'>{</beginfold id='1'>
    <T>(arg: T): T;
    <noTag />
<endfold id='1'>}</endfold id='1'>
class Handler <beginfold id='1'>{</beginfold id='1'>
    info: <T>(arg: T): T <noTag />;
    <beginfold id='2'><tag</beginfold id='2'>> </tag<endfold id='2'>></endfold id='2'>
<endfold id='1'>}</endfold id='1'>
